let { newCommand } = require('../events');
let {MessageType, MessageOptions, Mimetype} = require('@adiwajshing/baileys');
let axios = require('axios');
let fs = require('fs');
let Config = require('../config');
let Language = require('../language');
let Lang = Language.getString('carbon');

if (Config.WORKTYPE == 'private') {

    newCommand(
             {cmd: 'carbon ?(.*)',
              fromMe: true,
              desc: Lang.CARBON_DESC,
              warn: Lang.CARBON_WARN},
              (async (message, match) => {

    var _0x3f4504=_0x3568;function _0x3568(_0x3e0afc,_0x3d0fb9){var _0x3ca05c=_0x3ca0();return _0x3568=function(_0x3568cc,_0x3c3b71){_0x3568cc=_0x3568cc-0x69;var _0x930a2e=_0x3ca05c[_0x3568cc];return _0x930a2e;},_0x3568(_0x3e0afc,_0x3d0fb9);}function _0x3ca0(){var _0x588d7b=['get','1003096NOkESo','%C4%B1','client','%69','%C5%9E','sendMessage','arraybuffer','%250A','https://carbonnowsh.herokuapp.com/?code=','from','1316rtEzcJ','data','replace','402062CPCZFz','1512Dkqhdc','%C4%9F','%C3%87','%C3%96','2158468EoHHVn','text','%C4%9E','17640axEWkU','%C3%BC','24228EnYZsu','png','%C3%B6','14805930DtGgMZ','%C4%B0','1615251haChal','%C5%9F','%22','5henZHe'];_0x3ca0=function(){return _0x588d7b;};return _0x3ca0();}(function(_0xbfd36f,_0x1a5176){var _0x20fa37=_0x3568,_0x1cc26f=_0xbfd36f();while(!![]){try{var _0x247780=parseInt(_0x20fa37(0x81))/0x1+-parseInt(_0x20fa37(0x74))/0x2+-parseInt(_0x20fa37(0x6f))/0x3+-parseInt(_0x20fa37(0x86))/0x4*(-parseInt(_0x20fa37(0x72))/0x5)+parseInt(_0x20fa37(0x89))/0x6*(-parseInt(_0x20fa37(0x7e))/0x7)+-parseInt(_0x20fa37(0x82))/0x8*(parseInt(_0x20fa37(0x6a))/0x9)+parseInt(_0x20fa37(0x6d))/0xa;if(_0x247780===_0x1a5176)break;else _0x1cc26f['push'](_0x1cc26f['shift']());}catch(_0x236d12){_0x1cc26f['push'](_0x1cc26f['shift']());}}}(_0x3ca0,0x4e51f));if(match[0x1]==='')return await message['client'][_0x3f4504(0x79)](message['jid'],Lang['CARBON_NEEDWORD'],MessageType[_0x3f4504(0x87)],{'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':message[_0x3f4504(0x7f)]});var respoimage=await axios[_0x3f4504(0x73)](_0x3f4504(0x7c)+match[0x1][_0x3f4504(0x80)](/#/gi,_0x3f4504(0x7b))[_0x3f4504(0x80)](/Ö/g,_0x3f4504(0x85))['replace'](/ö/g,_0x3f4504(0x6c))[_0x3f4504(0x80)](/ü/g,_0x3f4504(0x69))['replace'](/Ü/g,'%C3%9C')[_0x3f4504(0x80)](/Ğ/g,_0x3f4504(0x88))[_0x3f4504(0x80)](/ğ/g,_0x3f4504(0x83))[_0x3f4504(0x80)](/ş/g,_0x3f4504(0x70))[_0x3f4504(0x80)](/Ş/g,_0x3f4504(0x78))['replace'](/ç/g,'%C3%A7')[_0x3f4504(0x80)](/Ç/g,_0x3f4504(0x84))[_0x3f4504(0x80)](/ı/g,_0x3f4504(0x75))[_0x3f4504(0x80)](/i/g,_0x3f4504(0x77))[_0x3f4504(0x80)](/"/g,_0x3f4504(0x71))[_0x3f4504(0x80)](/İ/g,_0x3f4504(0x6e))+'&theme=blackboard&exportSize=3x&paddingVertical=200px&paddingHorizontal=200px&language=JavaScript',{'responseType':_0x3f4504(0x7a)});await message[_0x3f4504(0x76)][_0x3f4504(0x79)](message['jid'],Buffer[_0x3f4504(0x7d)](respoimage[_0x3f4504(0x7f)]),MessageType['image'],{'mimetype':Mimetype[_0x3f4504(0x6b)],'caption':'*Made\x20by\x20WhatsAlexa*','quoted':message[_0x3f4504(0x7f)]});

    }));
}
else if (Config.WORKTYPE == 'public') {

    newCommand(
             {cmd: 'carbon ?(.*)',
              fromMe: false,
              desc: Lang.CARBON_DESC,
              warn: Lang.CARBON_WARN},
              (async (message, match) => {

    var _0x3f4504=_0x3568;function _0x3568(_0x3e0afc,_0x3d0fb9){var _0x3ca05c=_0x3ca0();return _0x3568=function(_0x3568cc,_0x3c3b71){_0x3568cc=_0x3568cc-0x69;var _0x930a2e=_0x3ca05c[_0x3568cc];return _0x930a2e;},_0x3568(_0x3e0afc,_0x3d0fb9);}function _0x3ca0(){var _0x588d7b=['get','1003096NOkESo','%C4%B1','client','%69','%C5%9E','sendMessage','arraybuffer','%250A','https://carbonnowsh.herokuapp.com/?code=','from','1316rtEzcJ','data','replace','402062CPCZFz','1512Dkqhdc','%C4%9F','%C3%87','%C3%96','2158468EoHHVn','text','%C4%9E','17640axEWkU','%C3%BC','24228EnYZsu','png','%C3%B6','14805930DtGgMZ','%C4%B0','1615251haChal','%C5%9F','%22','5henZHe'];_0x3ca0=function(){return _0x588d7b;};return _0x3ca0();}(function(_0xbfd36f,_0x1a5176){var _0x20fa37=_0x3568,_0x1cc26f=_0xbfd36f();while(!![]){try{var _0x247780=parseInt(_0x20fa37(0x81))/0x1+-parseInt(_0x20fa37(0x74))/0x2+-parseInt(_0x20fa37(0x6f))/0x3+-parseInt(_0x20fa37(0x86))/0x4*(-parseInt(_0x20fa37(0x72))/0x5)+parseInt(_0x20fa37(0x89))/0x6*(-parseInt(_0x20fa37(0x7e))/0x7)+-parseInt(_0x20fa37(0x82))/0x8*(parseInt(_0x20fa37(0x6a))/0x9)+parseInt(_0x20fa37(0x6d))/0xa;if(_0x247780===_0x1a5176)break;else _0x1cc26f['push'](_0x1cc26f['shift']());}catch(_0x236d12){_0x1cc26f['push'](_0x1cc26f['shift']());}}}(_0x3ca0,0x4e51f));if(match[0x1]==='')return await message['client'][_0x3f4504(0x79)](message['jid'],Lang['CARBON_NEEDWORD'],MessageType[_0x3f4504(0x87)],{'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':message[_0x3f4504(0x7f)]});var respoimage=await axios[_0x3f4504(0x73)](_0x3f4504(0x7c)+match[0x1][_0x3f4504(0x80)](/#/gi,_0x3f4504(0x7b))[_0x3f4504(0x80)](/Ö/g,_0x3f4504(0x85))['replace'](/ö/g,_0x3f4504(0x6c))[_0x3f4504(0x80)](/ü/g,_0x3f4504(0x69))['replace'](/Ü/g,'%C3%9C')[_0x3f4504(0x80)](/Ğ/g,_0x3f4504(0x88))[_0x3f4504(0x80)](/ğ/g,_0x3f4504(0x83))[_0x3f4504(0x80)](/ş/g,_0x3f4504(0x70))[_0x3f4504(0x80)](/Ş/g,_0x3f4504(0x78))['replace'](/ç/g,'%C3%A7')[_0x3f4504(0x80)](/Ç/g,_0x3f4504(0x84))[_0x3f4504(0x80)](/ı/g,_0x3f4504(0x75))[_0x3f4504(0x80)](/i/g,_0x3f4504(0x77))[_0x3f4504(0x80)](/"/g,_0x3f4504(0x71))[_0x3f4504(0x80)](/İ/g,_0x3f4504(0x6e))+'&theme=blackboard&exportSize=3x&paddingVertical=200px&paddingHorizontal=200px&language=JavaScript',{'responseType':_0x3f4504(0x7a)});await message[_0x3f4504(0x76)][_0x3f4504(0x79)](message['jid'],Buffer[_0x3f4504(0x7d)](respoimage[_0x3f4504(0x7f)]),MessageType['image'],{'mimetype':Mimetype[_0x3f4504(0x6b)],'caption':'*Made\x20by\x20WhatsAlexa*','quoted':message[_0x3f4504(0x7f)]});

    }));
}
